"use strict";(self["webpackChunkquasar_app"]=self["webpackChunkquasar_app"]||[]).push([[191],{5585:(e,t,a)=>{a.d(t,{Z:()=>U});var l=a(3673),o=a(2323),n=a(8880);const s={class:"flex justify-between"},d=(0,l._)("div",{class:"text-h4"},"Покупка",-1),i={class:"col q-pt-none text-h6"},c={class:"col q-pt-none"},u={class:"col q-pt-none"},r={class:"col q-pt-none flex justify-between items-center"},p=["min","max"],m={class:"col q-pt-none"},y={class:"col q-pt-none"},g={class:"col q-pt-none"};function f(e,t,a,f,w,b){const h=(0,l.up)("q-btn"),v=(0,l.up)("q-input"),_=(0,l.up)("q-badge"),q=(0,l.up)("q-card-actions"),k=(0,l.up)("q-card"),x=(0,l.up)("q-dialog"),j=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(x,{persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(k,{class:"column q-pa-md",style:{heigth:"600px"}},{default:(0,l.w5)((()=>[(0,l._)("div",s,[d,(0,l.wy)((0,l.Wm)(h,{flat:"",round:"",dense:"",icon:"close",onClick:t[0]||(t[0]=e=>f.num=1)},null,512),[[j]])]),(0,l._)("div",i,(0,o.zw)(a.item.design.title)+" : "+(0,o.zw)(a.desc.design.title),1),(0,l._)("div",c,[(0,l.Wm)(v,{modelValue:f.email,"onUpdate:modelValue":t[1]||(t[1]=e=>f.email=e),label:"Email:"},null,8,["modelValue"])]),(0,l._)("div",u,[(0,l.Wm)(v,{modelValue:f.telegram,"onUpdate:modelValue":t[2]||(t[2]=e=>f.telegram=e),label:"Telegram:"},null,8,["modelValue"])]),(0,l._)("div",r,[(0,l.Wm)(_,{color:"blue q-ma-sm text-h6"},{default:(0,l.w5)((()=>[(0,l.Uk)(" Осталось : "+(0,o.zw)(a.desc.setting.count),1)])),_:1}),(0,l.wy)((0,l._)("input",{type:"number",onKeydown:t[3]||(t[3]=e=>b.validate(a.desc.setting.count)),onKeyup:t[4]||(t[4]=e=>b.validate(a.desc.setting.count)),min:a.desc.setting.count-(a.desc.setting.count-1),max:a.desc.setting.count,"onUpdate:modelValue":t[5]||(t[5]=e=>f.num=e),filled:"",style:{width:"200px",height:"30px !important"}},null,40,p),[[n.nr,f.num]])]),(0,l._)("div",m,[(0,l.Wm)(v,{modelValue:e.text,"onUpdate:modelValue":t[6]||(t[6]=t=>e.text=t),label:"Способ оплаты"},null,8,["modelValue"])]),(0,l._)("div",y,[(0,l.Wm)(v,{modelValue:f.sale,"onUpdate:modelValue":t[7]||(t[7]=e=>f.sale=e),label:"Код купона:"},null,8,["modelValue"])]),(0,l._)("div",g,[(0,l.Wm)(_,{color:"blue q-ma-sm text-h6"},{default:(0,l.w5)((()=>[(0,l.Uk)(" К оплате: "+(0,o.zw)(b.formatMoney(parseInt(a.desc.price.amount)*f.num))+" "+(0,o.zw)(a.desc.price.currency),1)])),_:1})]),(0,l.Wm)(q,{align:"center",class:"bg-white text-blue"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(h,{rounded:"",flat:"",label:"Перейти к оплате",onClick:t[8]||(t[8]=e=>f.num=1)},null,512),[[j]])])),_:1})])),_:1})])),_:1})}var w=a(1959);const b={data(){return{}},setup(){return{email:(0,w.iH)(""),telegram:(0,w.iH)(""),sale:(0,w.iH)(""),num:(0,w.iH)(1)}},props:{desc:{type:Object},item:{type:Object}},methods:{formatMoney(e){const t=Number.prototype.toFixed.call(parseFloat(e));return t.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1 ")},validate(e){this.num>e&&(this.num=e)}}};var h=a(4260),v=a(5118),_=a(3054),q=a(6210),k=a(8225),x=a(6106),j=a(7760),V=a(8586),z=a(7518),C=a.n(z);const Z=(0,h.Z)(b,[["render",f]]),U=Z;C()(b,"components",{QDialog:v.Z,QCard:_.Z,QBtn:q.Z,QInput:k.Z,QBadge:x.Z,QCardActions:j.Z}),C()(b,"directives",{ClosePopup:V.Z})},7191:(e,t,a)=>{a.r(t),a.d(t,{default:()=>k});var l=a(3673),o=a(2323);const n={class:"flex justify-center"},s={class:"q-pa-md justify-center col mw700"},d={class:"text-h5 flex justify-center items-center colorD"},i={class:"row flexdir"},c={class:"text-h6"},u={key:0,class:"price"};function r(e,t,a,r,p,m){const y=(0,l.up)("q-btn"),g=(0,l.up)("q-badge"),f=(0,l.up)("q-banner"),w=(0,l.up)("d-pay");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",n,[(0,l.Wm)(y,{class:"q-ma-sm",color:"primary",label:"Все",onClick:t[0]||(t[0]=e=>(p.products=[],m.getProducts(0)))})]),(0,l._)("div",s,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(p.products,(e=>((0,l.wg)(),(0,l.iD)("div",{class:"col",key:e.id},[(0,l._)("p",d,(0,o.zw)(e.design.title),1),(0,l._)("div",i,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.items,(t=>((0,l.wg)(),(0,l.j4)(f,{rounded:"",class:"q-ma-sm bg-grey-3 flex justify-beetween",key:t.id},{action:(0,l.w5)((()=>[0!==t.type?((0,l.wg)(),(0,l.iD)("div",u,(0,o.zw)(m.formatMoney(t.price.amount)+" "+t.price.currency),1)):(0,l.kq)("",!0),0!==t.type?((0,l.wg)(),(0,l.j4)(y,{key:1,color:"primary",label:"Купить",onClick:a=>m.openPay(e,t)},null,8,["onClick"])):(0,l.kq)("",!0),0==t.type?((0,l.wg)(),(0,l.j4)(y,{key:2,color:"primary",label:"Смотреть",onClick:e=>m.openSubCategory(t.id,t.category_id)},null,8,["onClick"])):(0,l.kq)("",!0)])),default:(0,l.w5)((()=>[(0,l._)("div",c,[(0,l.Uk)((0,o.zw)(m.definesType(t))+" ",1),0==t.type?((0,l.wg)(),(0,l.j4)(g,{key:0,label:"Подкатегория",class:"sub-category q-mt-none"})):(0,l.kq)("",!0)])])),_:2},1024)))),128))])])))),128))]),(0,l.Wm)(w,{modelValue:r.pay,"onUpdate:modelValue":t[1]||(t[1]=e=>r.pay=e),desc:e.item,item:e.prod,num:1},null,8,["modelValue","desc","item"])],64)}var p=a(1959),m=a(7),y=a(5585);const g={components:{"d-pay":y.Z},data(){return{products:[]}},setup(){return{pay:(0,p.iH)(!1)}},created(){this.getProducts(0)},methods:{openPay(e,t){this.prod=e,this.item=t,this.pay=!0},async openSubCategory(e,t){this.products=[],m.axios.post("https://api.bot-t.ru/v1/shop/category/view?token=5229498662:AAH6wu0z-uButJQfzT5jAUfjzROfNUTLDGk",`bot_id=30219&category_id=${t}`).then((t=>{for(let e in t.data.data)this.products.push(t.data.data[e]);this.products=this.products.filter((t=>0==t.type&&t.id==e))}))},definesType(e){return e.type,e.design.title},formatMoney(e){const t=Number.prototype.toFixed.call(parseFloat(e));return t.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1 ")},async getProducts(e){m.axios.post("https://api.bot-t.ru/v1/shop/category/view?token=5229498662:AAH6wu0z-uButJQfzT5jAUfjzROfNUTLDGk",`bot_id=30219&category_id=${e}`).then((e=>{for(let t in e.data.data)this.products.push(e.data.data[t])}))}}};var f=a(4260),w=a(6210),b=a(7505),h=a(6106),v=a(7518),_=a.n(v);const q=(0,f.Z)(g,[["render",r],["__scopeId","data-v-7bcfe702"]]),k=q;_()(g,"components",{QBtn:w.Z,QBanner:b.Z,QBadge:h.Z})}}]);