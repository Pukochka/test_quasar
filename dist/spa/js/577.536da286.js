"use strict";(self["webpackChunkquasar_app"]=self["webpackChunkquasar_app"]||[]).push([[577],{2517:(e,t,a)=>{a.d(t,{Z:()=>U});var s=a(3673),o=a(2323);const l=e=>((0,s.dD)("data-v-e6ab0b3c"),e=e(),(0,s.Cn)(),e),n={class:"flex justify-between"},c=l((()=>(0,s._)("div",{class:"text-h5 custom-header"},"Покупка",-1))),r={class:"col q-pt-none text-h6"},d={class:"col q-pt-none"},u={class:"col q-pt-none"},i={class:"col q-pt-none flex justify-between items-center"},p={class:"col q-pt-none"},m={class:"col q-pt-none"},y={class:"col q-pt-none"};function b(e,t,a,l,b,g){const w=(0,s.up)("q-btn"),h=(0,s.up)("q-separator"),q=(0,s.up)("q-input"),f=(0,s.up)("q-badge"),k=(0,s.up)("q-card-actions"),v=(0,s.up)("q-card"),_=(0,s.up)("q-dialog"),x=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(_,{persistent:""},{default:(0,s.w5)((()=>[(0,s.Wm)(v,{class:"column q-pa-md",style:{heigth:"600px"}},{default:(0,s.w5)((()=>[(0,s._)("div",n,[c,(0,s.wy)((0,s.Wm)(w,{flat:"",round:"",dense:"",icon:"close",onClick:t[0]||(t[0]=e=>l.num=1)},null,512),[[x]])]),(0,s.Wm)(h,{horizontal:"",class:"custom-separator"}),(0,s._)("div",r,(0,o.zw)(a.item.design.title)+" : "+(0,o.zw)(a.desc.design.title),1),(0,s._)("div",d,[(0,s.Wm)(q,{dense:"",modelValue:l.email,"onUpdate:modelValue":t[1]||(t[1]=e=>l.email=e),label:"Email:"},null,8,["modelValue"])]),(0,s._)("div",u,[(0,s.Wm)(q,{dense:"",modelValue:l.telegram,"onUpdate:modelValue":t[2]||(t[2]=e=>l.telegram=e),label:"Telegram:"},null,8,["modelValue"])]),(0,s._)("div",i,[(0,s.Wm)(f,{color:"blue q-ma-sm text-h6"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Осталось : "+(0,o.zw)(a.desc.setting.count),1)])),_:1}),(0,s.Wm)(q,{type:"number",onKeydown:t[3]||(t[3]=e=>g.validate(a.desc.setting.count)),onKeyup:t[4]||(t[4]=e=>g.validate(a.desc.setting.count)),min:a.desc.setting.count-(a.desc.setting.count-1),max:a.desc.setting.count,modelValue:l.num,"onUpdate:modelValue":t[5]||(t[5]=e=>l.num=e),dense:"",style:{width:"200px",height:"30px !important"}},null,8,["min","max","modelValue"])]),(0,s._)("div",p,[(0,s.Wm)(q,{dense:"",modelValue:e.text,"onUpdate:modelValue":t[6]||(t[6]=t=>e.text=t),label:"Способ оплаты"},null,8,["modelValue"])]),(0,s._)("div",m,[(0,s.Wm)(q,{dense:"",modelValue:l.sale,"onUpdate:modelValue":t[7]||(t[7]=e=>l.sale=e),label:"Код купона:"},null,8,["modelValue"])]),(0,s._)("div",y,[(0,s.Wm)(f,{color:"blue q-ma-sm text-h6"},{default:(0,s.w5)((()=>[(0,s.Uk)(" К оплате: "+(0,o.zw)(g.formatMoney(parseInt(a.desc.price.amount)*l.num))+" "+(0,o.zw)(a.desc.price.currency),1)])),_:1})]),(0,s.Wm)(k,{align:"center",class:"bg-white text-blue"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(w,{rounded:"",flat:"",label:"Перейти к оплате",onClick:t[8]||(t[8]=e=>l.num=1)},null,512),[[x]])])),_:1})])),_:1})])),_:1})}var g=a(1959);const w={data(){return{}},setup(){return{email:(0,g.iH)(""),telegram:(0,g.iH)(""),sale:(0,g.iH)(""),num:(0,g.iH)(1)}},props:{desc:{type:Object},item:{type:Object}},methods:{formatMoney(e){const t=Number.prototype.toFixed.call(parseFloat(e));return t.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1 ")},validate(e){this.num>e&&(this.num=e)}}};var h=a(4260),q=a(5118),f=a(3054),k=a(6210),v=a(3831),_=a(8225),x=a(6106),j=a(7760),Z=a(8586),Q=a(7518),z=a.n(Q);const H=(0,h.Z)(w,[["render",b],["__scopeId","data-v-e6ab0b3c"]]),U=H;z()(w,"components",{QDialog:q.Z,QCard:f.Z,QBtn:k.Z,QSeparator:v.Z,QInput:_.Z,QBadge:x.Z,QCardActions:j.Z}),z()(w,"directives",{ClosePopup:Z.Z})},577:(e,t,a)=>{a.r(t),a.d(t,{default:()=>U});var s=a(3673),o=a(2323);const l={class:"mw1000 flex"},n={class:"q-pa-md justify-center col mw1000"},c={class:"text-h5 flex justify-start items-center custom-header q-mb-sm q-ml-sm q-mt-xl"},r={class:"row wrap q-pt-md"},d={class:"text-h6 flex justify-between"},u={key:0,class:"price"};function i(e,t,a,i,p,m){const y=(0,s.up)("q-btn"),b=(0,s.up)("q-separator"),g=(0,s.up)("t-desc"),w=(0,s.up)("q-banner");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",l,[(0,s.Wm)(y,{flat:"",class:"q-ma-sm",color:"primary",label:"Все",onClick:t[0]||(t[0]=e=>(i.products=[],m.getProducts(0)))})]),(0,s._)("div",n,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.products,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"col",key:e.id},[(0,s._)("p",c,(0,o.zw)(e.design.title),1),(0,s.Wm)(b,{horizontal:"",class:"custom-separator"}),(0,s._)("div",r,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.items,(e=>((0,s.wg)(),(0,s.j4)(w,{rounded:"",style:{width:"300px"},class:"q-ma-sm rounded-borders bg-grey-1 custom-border",key:e.id},{action:(0,s.w5)((()=>[0!==e.type?((0,s.wg)(),(0,s.iD)("div",u,(0,o.zw)(m.formatMoney(e.price.amount)+" "+m.formatPrice(e.price.currency)),1)):(0,s.kq)("",!0),0!==e.type?((0,s.wg)(),(0,s.j4)(y,{key:1,flat:"",color:"primary",label:"Купить"})):(0,s.kq)("",!0),0==e.type?((0,s.wg)(),(0,s.j4)(y,{key:2,flat:"",color:"primary",label:"Смотреть",onClick:t=>m.openSubCategory(e.id,e.category_id)},null,8,["onClick"])):(0,s.kq)("",!0)])),default:(0,s.w5)((()=>[(0,s._)("div",d,(0,o.zw)(e.design.title),1),(0,s.Wm)(g,{item:e},null,8,["item"])])),_:2},1024)))),128))])])))),128))])],64)}var p=a(1959),m=a(7);a(2517);function y(e,t,a,o,l,n){const c=(0,s.up)("q-badge");return(0,s.wg)(),(0,s.iD)(s.HY,null,[1==a.item.type?((0,s.wg)(),(0,s.j4)(c,{key:0,label:"Уникальный товар",class:"sub-category q-mt-none"})):(0,s.kq)("",!0),2==a.item.type?((0,s.wg)(),(0,s.j4)(c,{key:1,label:"Не уникальный товар",class:"sub-category q-mt-none"})):(0,s.kq)("",!0),3==a.item.type?((0,s.wg)(),(0,s.j4)(c,{key:2,label:"Не уникальный файл",class:"sub-category q-mt-none"})):(0,s.kq)("",!0),4==a.item.type?((0,s.wg)(),(0,s.j4)(c,{key:3,label:"Уникальный файл",class:"sub-category q-mt-none"})):(0,s.kq)("",!0),0==a.item.type?((0,s.wg)(),(0,s.j4)(c,{key:4,label:"Подкатегория",class:"sub-category q-mt-none"})):(0,s.kq)("",!0)],64)}const b={data(){return{}},props:{item:{type:Object}}};var g=a(4260),w=a(6106),h=a(7518),q=a.n(h);const f=(0,g.Z)(b,[["render",y],["__scopeId","data-v-84e5c0d4"]]),k=f;q()(b,"components",{QBadge:w.Z});const v={components:{"t-desc":k},data(){return{}},setup(){return{products:(0,p.iH)([]),pay:(0,p.iH)(!1),error:(0,p.iH)(!1),searchItem:(0,p.iH)(""),val:(0,p.iH)(!0)}},created(){this.getProducts(0)},methods:{openPay(e,t){this.prod=e,this.item=t},async openSubCategory(e,t){this.products=[],m.axios.post("https://api.bot-t.ru/v1/shop/category/view?token=5229498662:AAH6wu0z-uButJQfzT5jAUfjzROfNUTLDGk",`bot_id=30219&category_id=${t}`).then((t=>{for(let e in t.data.data)this.products.push(t.data.data[e]);this.products=this.products.filter((t=>0==t.type&&t.id==e))}))},formatPrice(e){let t="";switch(e){case"RUB":t="₽";break;case"USD":t="$";break;case"EUR":t="€";break;case"UAH":t="₴";break;case"KZT":t="₸";break}return t},formatMoney(e){const t=Number.prototype.toFixed.call(parseFloat(e));return t.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1 ")},async getProducts(e){m.axios.post("https://api.bot-t.ru/v1/shop/category/view?token=5229498662:AAH6wu0z-uButJQfzT5jAUfjzROfNUTLDGk",`bot_id=30219&category_id=${e}`).then((e=>{for(let t in e.data.data)this.products.push(e.data.data[t])}))}}};var _=a(6210),x=a(8225),j=a(8900),Z=a(7505),Q=a(3831),z=a(5613);const H=(0,g.Z)(v,[["render",i],["__scopeId","data-v-19b82796"]]),U=H;q()(v,"components",{QBtn:_.Z,QInput:x.Z,QIcon:j.Z,QBanner:Z.Z,QSeparator:Q.Z,QCheckbox:z.Z})}}]);