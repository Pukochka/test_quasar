"use strict";(self["webpackChunkquasar_app"]=self["webpackChunkquasar_app"]||[]).push([[207],{5585:(e,t,l)=>{l.d(t,{Z:()=>V});var s=l(3673),a=l(2323),n=l(8880);const i={class:"flex justify-between"},o=(0,s._)("div",{class:"text-h4"},"Покупка",-1),d={class:"col q-pt-none text-h6"},u={class:"col q-pt-none"},c={class:"col q-pt-none"},m={class:"col q-pt-none flex justify-between items-center"},r=["min","max"],p={class:"col q-pt-none"},h={class:"col q-pt-none"},g={class:"col q-pt-none"};function w(e,t,l,w,y,f){const _=(0,s.up)("q-btn"),q=(0,s.up)("q-input"),b=(0,s.up)("q-badge"),k=(0,s.up)("q-card-actions"),x=(0,s.up)("q-card"),v=(0,s.up)("q-dialog"),W=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(v,{persistent:""},{default:(0,s.w5)((()=>[(0,s.Wm)(x,{class:"column q-pa-md",style:{heigth:"600px"}},{default:(0,s.w5)((()=>[(0,s._)("div",i,[o,(0,s.wy)((0,s.Wm)(_,{flat:"",round:"",dense:"",icon:"close",onClick:t[0]||(t[0]=e=>w.num=1)},null,512),[[W]])]),(0,s._)("div",d,(0,a.zw)(l.item.design.title)+" : "+(0,a.zw)(l.desc.design.title),1),(0,s._)("div",u,[(0,s.Wm)(q,{modelValue:w.email,"onUpdate:modelValue":t[1]||(t[1]=e=>w.email=e),label:"Email:"},null,8,["modelValue"])]),(0,s._)("div",c,[(0,s.Wm)(q,{modelValue:w.telegram,"onUpdate:modelValue":t[2]||(t[2]=e=>w.telegram=e),label:"Telegram:"},null,8,["modelValue"])]),(0,s._)("div",m,[(0,s.Wm)(b,{color:"blue q-ma-sm text-h6"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Осталось : "+(0,a.zw)(l.desc.setting.count),1)])),_:1}),(0,s.wy)((0,s._)("input",{type:"number",onKeydown:t[3]||(t[3]=e=>f.validate(l.desc.setting.count)),onKeyup:t[4]||(t[4]=e=>f.validate(l.desc.setting.count)),min:l.desc.setting.count-(l.desc.setting.count-1),max:l.desc.setting.count,"onUpdate:modelValue":t[5]||(t[5]=e=>w.num=e),filled:"",style:{width:"200px",height:"30px !important"}},null,40,r),[[n.nr,w.num]])]),(0,s._)("div",p,[(0,s.Wm)(q,{modelValue:e.text,"onUpdate:modelValue":t[6]||(t[6]=t=>e.text=t),label:"Способ оплаты"},null,8,["modelValue"])]),(0,s._)("div",h,[(0,s.Wm)(q,{modelValue:w.sale,"onUpdate:modelValue":t[7]||(t[7]=e=>w.sale=e),label:"Код купона:"},null,8,["modelValue"])]),(0,s._)("div",g,[(0,s.Wm)(b,{color:"blue q-ma-sm text-h6"},{default:(0,s.w5)((()=>[(0,s.Uk)(" К оплате: "+(0,a.zw)(f.formatMoney(parseInt(l.desc.price.amount)*w.num))+" "+(0,a.zw)(l.desc.price.currency),1)])),_:1})]),(0,s.Wm)(k,{align:"center",class:"bg-white text-blue"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(_,{rounded:"",flat:"",label:"Перейти к оплате",onClick:t[8]||(t[8]=e=>w.num=1)},null,512),[[W]])])),_:1})])),_:1})])),_:1})}var y=l(1959);const f={data(){return{}},setup(){return{email:(0,y.iH)(""),telegram:(0,y.iH)(""),sale:(0,y.iH)(""),num:(0,y.iH)(1)}},props:{desc:{type:Object},item:{type:Object}},methods:{formatMoney(e){const t=Number.prototype.toFixed.call(parseFloat(e));return t.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1 ")},validate(e){this.num>e&&(this.num=e)}}};var _=l(4260),q=l(5118),b=l(3054),k=l(6210),x=l(8225),v=l(6106),W=l(7760),j=l(8586),Z=l(7518),z=l.n(Z);const Q=(0,_.Z)(f,[["render",w]]),V=Q;z()(f,"components",{QDialog:q.Z,QCard:b.Z,QBtn:k.Z,QInput:x.Z,QBadge:v.Z,QCardActions:W.Z}),z()(f,"directives",{ClosePopup:j.Z})},7207:(e,t,l)=>{l.r(t),l.d(t,{default:()=>A});var s=l(3673),a=l(2323);const n=e=>((0,s.dD)("data-v-794f3d82"),e=e(),(0,s.Cn)(),e),i=n((()=>(0,s._)("div",{class:"text-h3 flex justify-center q-pa-md"},"Товары",-1))),o=n((()=>(0,s._)("div",{class:"flex justify-center q-pa-md"},null,-1))),d={class:"fit row wrap justify-center items-start content-start"},u={class:"mw200"},c=(0,s.Uk)("Все"),m={class:"col-8 w600"},r=n((()=>(0,s._)("thead",null,[(0,s._)("ul",{class:"main-head q-px-md q-my-sm"},[(0,s._)("li",{class:""},"Продукт"),(0,s._)("li",{class:""},"Осталось"),(0,s._)("li",{class:""},"1 штука"),(0,s._)("li",{class:""},"Покупка")])],-1))),p={colspan:"4"},h={class:"row no-wrap items-center justify-center bggr"},g={class:"text-h6"},w={class:"text-left"},y={class:"text-right"},f={class:"text-right"},_={class:"text-right"},q=(0,s.Uk)("Купить");function b(e,t,l,n,b,k){const x=(0,s.up)("q-item-section"),v=(0,s.up)("q-badge"),W=(0,s.up)("q-item"),j=(0,s.up)("skeleton"),Z=(0,s.up)("q-list"),z=(0,s.up)("q-btn"),Q=(0,s.up)("q-markup-table"),V=(0,s.up)("d-pay"),C=(0,s.Q2)("ripple");return(0,s.wg)(),(0,s.iD)(s.HY,null,[i,o,(0,s._)("div",d,[(0,s._)("div",u,[(0,s.Wm)(Z,{separator:"",bordered:"",padding:"",class:"rounded-borders text-primary"},{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(W,{clickable:"",onClick:t[0]||(t[0]=e=>k.openMain())},{default:(0,s.w5)((()=>[(0,s.Wm)(x,{class:"text-subtitle1 text-weight-medium"},{default:(0,s.w5)((()=>[c])),_:1}),(0,s.Wm)(v,{color:"gray q-my-sm"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(k.allItems()),1)])),_:1})])),_:1})),[[C]]),0==n.items.length?((0,s.wg)(),(0,s.j4)(j,{key:0,height:b.h.h40},null,8,["height"])):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(b.heads,(e=>(0,s.wy)(((0,s.wg)(),(0,s.j4)(W,{class:"justify-center",key:e.id,clickable:"",onClick:t=>k.openFilter(e)},{default:(0,s.w5)((()=>[(0,s.Wm)(x,{class:"text-subtitle1 text-weight-medium"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(e.design.title),1)])),_:2},1024),(0,s.Wm)(v,{color:"gray q-my-sm"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(e.items.length),1)])),_:2},1024)])),_:2},1032,["onClick"])),[[C]]))),128))])),_:1})]),(0,s._)("div",m,[(0,s.Wm)(Q,{class:"q-mx-md q-mb-lg"},{default:(0,s.w5)((()=>[r,(0,s._)("tbody",null,[(0,s.Wm)(Q,{class:"q-ml-md q-mr-md full-width"},{default:(0,s.w5)((()=>[0==n.items.length?((0,s.wg)(),(0,s.j4)(j,{key:0,height:b.h.h150},null,8,["height"])):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.items,(t=>((0,s.wg)(),(0,s.iD)("tbody",{key:t.id,class:"rel"},[(0,s._)("tr",null,[(0,s._)("th",p,[(0,s._)("div",h,[(0,s._)("div",g,(0,a.zw)(t.design.title),1)])])]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.items,(l=>((0,s.wg)(),(0,s.iD)("tr",{key:l.id},[(0,s._)("td",w,(0,a.zw)(l.design.title),1),(0,s._)("td",y,(0,a.zw)(l.setting.count),1),(0,s._)("td",f,(0,a.zw)(k.formatMoney(l.price.amount))+" "+(0,a.zw)(l.price.currency),1),(0,s._)("td",_,[(0,s.Wm)(z,{color:"white","text-color":"black",onClick:s=>{e.num=0,k.openPay(l,t)}},{default:(0,s.w5)((()=>[q])),_:2},1032,["onClick"])])])))),128))])))),128))])),_:1})])])),_:1})]),(0,s.Wm)(V,{modelValue:n.pay,"onUpdate:modelValue":t[1]||(t[1]=e=>n.pay=e),desc:e.desc,item:e.item,num:0},null,8,["modelValue","desc","item"])])],64)}var k=l(1959),x=l(7);function v(e,t,l,n,i,o){const d=(0,s.up)("q-skeleton");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(d,{class:"q-ma-md",style:(0,a.j5)({height:l.height})},null,8,["style"]),(0,s.Wm)(d,{class:"q-ma-md",style:(0,a.j5)({height:l.height})},null,8,["style"]),(0,s.Wm)(d,{class:"q-ma-md",style:(0,a.j5)({height:l.height})},null,8,["style"]),(0,s.Wm)(d,{class:"q-ma-md",style:(0,a.j5)({height:l.height})},null,8,["style"])],64)}const W={data(){return{}},props:{height:{type:[String],required:!0}}};var j=l(4260),Z=l(8068),z=l(7518),Q=l.n(z);const V=(0,j.Z)(W,[["render",v]]),C=V;Q()(W,"components",{QSkeleton:Z.ZP});var U=l(5585);const H={data(){return{heads:[],h:{h40:"40px",h150:"150px"}}},components:{skeleton:C,"d-pay":U.Z},setup(){return{items:(0,k.iH)([]),separator:(0,k.iH)("horizontal"),pay:(0,k.iH)(!1)}},created(){this.onreadyStateChange(0)},methods:{allItems(){let e=0;if(this.heads){for(let t of this.heads)e+=t.items.length;return e}},openPay(e,t){this.item=t,this.desc=e,this.pay=!0},openMain(){this.items=[],this.items=this.heads},openFilter(e){this.items=[],this.items.push(e)},formatMoney(e){const t=Number.prototype.toFixed.call(parseFloat(e));return t.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1 ")},async onreadyStateChange(e){x.axios.post("https://api.bot-t.ru/v1/shop/category/view?token=5229498662:AAH6wu0z-uButJQfzT5jAUfjzROfNUTLDGk",`bot_id=30219&category_id=${e}`).then((e=>{for(let t in e.data.data)this.heads.push(e.data.data[t]),this.items.push(e.data.data[t]),console.log(this.items)}))}}};var D=l(5901),I=l(7953),M=l(880),F=l(6106),B=l(1001),K=l(6210),S=l(9400);const Y=(0,j.Z)(H,[["render",b],["__scopeId","data-v-794f3d82"]]),A=Y;Q()(H,"components",{QList:D.Z,QItem:I.Z,QItemSection:M.Z,QBadge:F.Z,QMarkupTable:B.Z,QBtn:K.Z}),Q()(H,"directives",{Ripple:S.Z})}}]);